# Calil 蔵書管理アプリ

[Calil API](https://calil.jp/) を使用した図書館蔵書管理Webアプリケーションです。Hono と Bun で構築されており、読みたい本と読んだ本を追跡するモダンなインターフェースを提供します。

## 機能

- 📚 **蔵書リスト管理**: Calil から「読みたい本」「読んだ本」リストを管理
- 🔍 **NDL検索統合**: 国立国会図書館（NDL）OpenSearch API から詳細な書籍情報を取得
- 🖼️ **カバー画像キャッシング**: 書籍カバー画像の自動キャッシュによるパフォーマンス向上
- 🔐 **認証**: Puppeteer を使用した Calil API への安全な認証
- 📊 **アプリケーションログ**: Web ベースのログビューアーを備えた組み込みログシステム
- ⚡ **高速パフォーマンス**: Bun ランタイムによる最適な速度

## 技術スタック

- **ランタイム**: [Bun](https://bun.sh) - 高速オールインワン JavaScript ランタイム
- **フレームワーク**: [Hono](https://hono.dev) - 超高速 Web フレームワーク
- **自動化**: [Puppeteer](https://pptr.dev) - 認証用ヘッドレスブラウザ
- **XML パース**: NDL API レスポンス用の fast-xml-parser

## インストール

依存関係をインストール:

```bash
bun install
```

## 使い方

### 開発モード

ホットリロード付きでアプリケーションを実行:

```bash
bun run dev
```

### 本番モード

アプリケーションを実行:

```bash
bun run start
```

サーバーは `http://localhost:8787` で起動します

### 利用可能なエンドポイント

- `/` - 読みたい本と読んだ本のタブを持つメイン書籍リストインターフェース
- `/api/books/:isbn` - NDL から詳細な書籍情報を取得
- `/api/cover/:isbn` - キャッシュされた書籍カバー画像を取得
- `/log` - アプリケーションログを表示
- `/auth/*` - 認証エンドポイント

### バイナリのビルド

各プラットフォーム用のスタンドアロン実行ファイルをビルド:

```bash
# すべてのプラットフォーム用にビルド
bun run build:binary

# 特定のプラットフォーム用にビルド
bun run build:binary:linux
bun run build:binary:windows
bun run build:binary:mac
```

バイナリは `dist/` ディレクトリに作成されます。

## プロジェクト構造

```
├── src/
│   ├── app/           # アプリケーションサーバーとルート
│   ├── features/      # 機能モジュール
│   │   ├── calil/     # Calil API 統合
│   │   ├── ndl/       # NDL 検索ユーティリティ
│   │   ├── covers/    # カバー画像キャッシング
│   │   └── auth/      # 認証
│   └── shared/        # 共有ユーティリティ
├── client/            # クライアントサイドスクリプト
└── index.tsx          # アプリケーションエントリーポイント
```

## ライセンス

このプロジェクトはプライベートです。
